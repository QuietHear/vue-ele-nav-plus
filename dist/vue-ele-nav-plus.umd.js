(function(e,p){typeof exports=="object"&&typeof module<"u"?module.exports=p(require("vue")):typeof define=="function"&&define.amd?define(["vue"],p):(e=typeof globalThis<"u"?globalThis:e||self,e.vueEleNavPlus=p(e.Vue))})(this,function(e){"use strict";/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */var p;(function(o){o.pop="pop",o.push="push"})(p||(p={}));var g;(function(o){o.back="back",o.forward="forward",o.unknown=""})(g||(g={})),Symbol(process.env.NODE_ENV!=="production"?"navigation failure":"");var N;(function(o){o[o.aborted=4]="aborted",o[o.cancelled=8]="cancelled",o[o.duplicated=16]="duplicated"})(N||(N={})),Symbol(process.env.NODE_ENV!=="production"?"router view location matched":""),Symbol(process.env.NODE_ENV!=="production"?"router view depth":"");const z=Symbol(process.env.NODE_ENV!=="production"?"router":""),O=Symbol(process.env.NODE_ENV!=="production"?"route location":"");Symbol(process.env.NODE_ENV!=="production"?"router view location":"");function I(){return e.inject(z)}function P(){return e.inject(O)}const T="",F=(o,C)=>{const i=o.__vccOpts||o;for(const[s,w]of C)i[s]=w;return i},J={name:"vueEleNavPlus",props:{menu:{type:Array,default:()=>[]},onlyShowFirst:{type:Boolean,default:!1},i18n:{type:Boolean,default:!1},clickParentJump:{type:Boolean,default:!1}},setup(o,{attrs:C,slots:i,emit:s,expose:w}){const V=I(),B=P(),d=e.ref([]),h=e.ref(!1),y=e.ref([]),n=e.ref([]);e.watch(o.menu,()=>{a()});const a=async()=>{if(h.value=!1,d.value=JSON.parse(JSON.stringify(o.menu)),d.value.length>0){r(d.value),n.value=JSON.parse(JSON.stringify(d.value)),m(n.value);let l=(await _(d.value,B.name)).index;k(l),h.value=!0,D()}},r=(t,l)=>{t.forEach((c,f)=>{c.index=`${l!==void 0?l+"-":""}${f}`,c.active=!1,c.icon=c.icon?c.icon.split("/"):void 0,c.children&&c.children.length>0?r(c.children,c.index):c.children=[]})},k=(t,l=0)=>{const c=t.split("-"),f=c.slice(0,l+1).join("-");y.value.push(f),l+=1,l<c.length-1&&k(t,l)},m=t=>{for(let l=0;l<t.length;l++)t[l].show!==!1?!o.onlyShowFirst&&t[l].children&&t[l].children.length>0?m(t[l].children):t[l].children=[]:(t.splice(l,1),l-=1)};e.watch(B,()=>{D()});const D=async()=>{b(n.value);let t=await _(d.value,B.name);if(o.onlyShowFirst){let l=t.index.split("-")[0];n.value.filter(c=>c.index===l).length>0&&x(n.value,l)}else if(t.markName){let l=await _(n.value,t.markName);x(n.value,l.index)}else x(n.value,t.index)},b=t=>{t.forEach(l=>{l.active=!1,l.children.length>0&&b(l.children)})},x=(t,l,c=0)=>{const f=l.split("-"),E=f.slice(0,c+1).join("-");let u=t.filter(A=>A.index===E);u.length>0&&(u[0].active=!0,c+=1,c<f.length&&x(u[0].children,l,c))},_=(t,l)=>new Promise(c=>{t.forEach(f=>{f.name===l?c(f):f.children.length>0&&_(f.children,l).then(E=>{c(E)})})}),q=t=>{V.push({name:t.name})};return a(),{opens:y,init:h,navInformation:n,menuItemClick:q}}},R=["onClick"],j=["onClick"],L=["onClick"];function M(o,C,i,s,w,V){const B=e.resolveComponent("el-icon"),d=e.resolveComponent("el-menu-item"),h=e.resolveComponent("el-sub-menu"),y=e.resolveComponent("el-menu");return s.init?(e.openBlock(),e.createBlock(y,{key:0,"default-openeds":s.opens,class:"vue-ele-nav-plus"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.navInformation,n=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:n.index},[n.children.length>0?(e.openBlock(),e.createBlock(h,{key:0,class:e.normalizeClass(n.active?"replace-active":""),"popper-class":"vue-ele-nav-plus-hor-first",index:n.index},{title:e.withCtx(()=>[e.createElementVNode("div",{class:"parent-title",onClick:a=>!i.clickParentJump&&n.showSelf!==!0||s.menuItemClick(n)},[n.icon?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[n.icon[0]==="el"?(e.openBlock(),e.createBlock(B,{key:0},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(n.icon[1])))]),_:2},1024)):n.icon[0]==="iconfont"?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["icon iconfont","icon-"+n.icon[1]])},null,2)):(e.openBlock(),e.createElementBlock("i",{key:2,class:e.normalizeClass(n.icon[0])},e.toDisplayString(n.icon[1]),3))],64)):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(i.i18n?o.$t(n.title):n.title),1)],8,R)]),default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.children,a=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:a.index},[a.children.length>0?(e.openBlock(),e.createBlock(h,{key:0,class:e.normalizeClass(a.active?"replace-active-child":""),"popper-class":"second",index:a.index},{title:e.withCtx(()=>[e.createElementVNode("div",{class:"parent-title",onClick:r=>!i.clickParentJump&&a.showSelf!==!0||s.menuItemClick(a)},e.toDisplayString(i.i18n?o.$t(a.title):a.title),9,j)]),default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.children,r=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:r.index},[r.children.length>0?(e.openBlock(),e.createBlock(h,{key:0,class:e.normalizeClass(r.active?"replace-active-child":""),"popper-class":"third",index:r.index},{title:e.withCtx(()=>[e.createElementVNode("div",{class:"parent-title",onClick:k=>!i.clickParentJump&&r.showSelf!==!0||s.menuItemClick(r)},e.toDisplayString(i.i18n?o.$t(r.title):r.title),9,L)]),default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.children,k=>(e.openBlock(),e.createBlock(d,{key:k.index,class:e.normalizeClass(k.active?"replace-active-child":""),index:k.index,onClick:m=>s.menuItemClick(k)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.i18n?o.$t(k.title):k.title),1)]),_:2},1032,["class","index","onClick"]))),128))]),_:2},1032,["class","index"])):(e.openBlock(),e.createBlock(d,{key:1,class:e.normalizeClass(r.active?"replace-active-child":""),index:r.index,onClick:k=>s.menuItemClick(r)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.i18n?o.$t(r.title):r.title),1)]),_:2},1032,["class","index","onClick"]))],64))),128))]),_:2},1032,["class","index"])):(e.openBlock(),e.createBlock(d,{key:1,class:e.normalizeClass(a.active?"replace-active-child":""),index:a.index,onClick:r=>s.menuItemClick(a)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.i18n?o.$t(a.title):a.title),1)]),_:2},1032,["class","index","onClick"]))],64))),128))]),_:2},1032,["class","index"])):(e.openBlock(),e.createBlock(d,{key:1,class:e.normalizeClass(n.active?"replace-active":""),index:n.index,onClick:a=>s.menuItemClick(n)},{default:e.withCtx(()=>[n.icon?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[n.icon[0]==="el"?(e.openBlock(),e.createBlock(B,{key:0},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(n.icon[1])))]),_:2},1024)):n.icon[0]==="iconfont"?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["icon iconfont","icon-"+n.icon[1]])},null,2)):(e.openBlock(),e.createElementBlock("i",{key:2,class:e.normalizeClass(n.icon[0])},e.toDisplayString(n.icon[1]),3))],64)):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(i.i18n?o.$t(n.title):n.title),1)]),_:2},1032,["class","index","onClick"]))],64))),128))]),_:1},8,["default-openeds"])):e.createCommentVNode("",!0)}const K=[F(J,[["render",M]])],S={install(o){K.forEach(C=>{o.component(C.name,C)})}};return typeof window<"u"&&window.Vue&&window.Vue.use(S),S});
