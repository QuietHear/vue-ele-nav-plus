(function(e,d){typeof exports=="object"&&typeof module<"u"?module.exports=d(require("vue"),require("vue-router")):typeof define=="function"&&define.amd?define(["vue","vue-router"],d):(e=typeof globalThis<"u"?globalThis:e||self,e.vueEleNavPlus=d(e.Vue,e.vueRouter))})(this,function(e,d){"use strict";const a={__name:"icon",props:{iconObj:{type:Object,requured:!0}},setup(n){return(y,k)=>{const m=e.resolveComponent("el-icon");return n.iconObj.type==="custom"?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(n.iconObj.icon),e.normalizeProps(e.mergeProps({key:0},n.iconObj.attrs)),null,16)):n.iconObj.type==="el"?(e.openBlock(),e.createBlock(m,e.normalizeProps(e.mergeProps({key:1},n.iconObj.attrs)),{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(n.iconObj.icon)))]),_:1},16)):n.iconObj.type==="iconfont"?(e.openBlock(),e.createElementBlock("i",e.mergeProps({key:2,class:["icon iconfont","icon-"+n.iconObj.icon]},n.iconObj.attrs),null,16)):(e.openBlock(),e.createElementBlock("i",e.mergeProps({key:3,class:n.iconObj.type},n.iconObj.attrs),e.toDisplayString(n.iconObj.icon),17))}}},I="",E={class:"vue-ele-nav-plus-box"},D={class:"parent-title"},F={class:"parent-title"},S={class:"parent-title"},$=[{__name:"index",props:{menu:{type:Array,default:()=>[]},onlyShowFirst:{type:Boolean,default:!1},i18n:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},showCollapseBtn:{type:Boolean,default:!0},openBtn:{type:Object,default:()=>({type:"el",icon:"Fold"})},closeBtn:{type:Object,default:()=>({type:"el",icon:"Expand"})},popDark:{type:Boolean,default:!1}},emits:["collapseChange"],setup(n,{emit:y}){const k=n,m=d.useRouter(),p=d.useRoute(),C=e.ref("");let f=[],j=[];const g=e.ref([]);e.watch(()=>k.onlyShowFirst,()=>{w()}),e.watch(()=>k.menu,()=>{w()});const h=o=>{let r=o instanceof Array?[]:{};for(let t in o)r[t]=typeof o[t]=="object"?h(o[t]):o[t];return r},w=async()=>{f=h(k.menu),f.length>0&&(N(f),g.value=h(f),k.onlyShowFirst&&u(g.value),V())},N=(o,r)=>{o.forEach((t,B)=>{t.index=`${r!==void 0?r+"-":""}${B}`,t.icon=t.icon||void 0,t.children&&t.children.length>0?N(t.children,t.index):t.children=[],j.push(h(t))})},u=o=>{o.forEach(r=>{r.children=[]})};e.watch(p,()=>{V()});const V=()=>{const o=b(p.meta&&p.meta.markName?p.meta.markName:p.name);C.value="",o&&(C.value=k.onlyShowFirst?o.index.split("-")[0]:o.index)},b=o=>j.filter(r=>r.index===o||r.name===o)[0],x=o=>{const r=b(o.index);r.link?(window.open(r.link),window.location.reload()):m.push({name:b(o.index).name})};return w(),(o,r)=>{const t=e.resolveComponent("el-menu-item"),B=e.resolveComponent("el-sub-menu"),P=e.resolveComponent("el-menu"),T=e.resolveComponent("el-scrollbar");return e.openBlock(),e.createElementBlock("div",E,[e.createVNode(T,null,{default:e.withCtx(()=>[e.createVNode(P,e.mergeProps({class:"vue-ele-nav-plus",ellipsis:!1,"default-active":e.unref(C),collapse:n.collapse},o.$attrs),{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(g),l=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:l.index},[l.children.length>0?(e.openBlock(),e.createBlock(B,{key:0,class:"first-menu","popper-class":"vue-ele-nav-plus-poper"+(n.popDark?" dark":""),index:l.index},{title:e.withCtx(()=>[e.createElementVNode("div",D,[l.icon&&(l.icon.icon||l.icon.type)?(e.openBlock(),e.createBlock(a,{key:0,iconObj:l.icon},null,8,["iconObj"])):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(n.i18n?o.$t(l.title):l.title),1)])]),default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.children,c=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:c.index},[c.children.length>0?(e.openBlock(),e.createBlock(B,{key:0,"popper-class":"second",index:c.index},{title:e.withCtx(()=>[e.createElementVNode("div",F,[c.icon&&(c.icon.icon||c.icon.type)?(e.openBlock(),e.createBlock(a,{key:0,iconObj:c.icon},null,8,["iconObj"])):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(n.i18n?o.$t(c.title):c.title),1)])]),default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.children,i=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:i.index},[i.children.length>0?(e.openBlock(),e.createBlock(B,{key:0,"popper-class":"third",index:i.index},{title:e.withCtx(()=>[e.createElementVNode("div",S,[i.icon&&(i.icon.icon||i.icon.type)?(e.openBlock(),e.createBlock(a,{key:0,iconObj:i.icon},null,8,["iconObj"])):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(n.i18n?o.$t(i.title):i.title),1)])]),default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.children,s=>(e.openBlock(),e.createBlock(t,{key:s.index,index:s.index,onClick:x},{default:e.withCtx(()=>[s.icon&&(s.icon.icon||s.icon.type)?(e.openBlock(),e.createBlock(a,{key:0,iconObj:s.icon},null,8,["iconObj"])):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(n.i18n?o.$t(s.title):s.title),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(e.openBlock(),e.createBlock(t,{key:1,index:i.index,onClick:x},{default:e.withCtx(()=>[i.icon&&(i.icon.icon||i.icon.type)?(e.openBlock(),e.createBlock(a,{key:0,iconObj:i.icon},null,8,["iconObj"])):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(n.i18n?o.$t(i.title):i.title),1)]),_:2},1032,["index"]))],64))),128))]),_:2},1032,["index"])):(e.openBlock(),e.createBlock(t,{key:1,index:c.index,onClick:x},{default:e.withCtx(()=>[c.icon&&(c.icon.icon||c.icon.type)?(e.openBlock(),e.createBlock(a,{key:0,iconObj:c.icon},null,8,["iconObj"])):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(n.i18n?o.$t(c.title):c.title),1)]),_:2},1032,["index"]))],64))),128))]),_:2},1032,["popper-class","index"])):(e.openBlock(),e.createBlock(t,{key:1,class:"first-menu",index:l.index,onClick:x},{title:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(n.i18n?o.$t(l.title):l.title),1)]),default:e.withCtx(()=>[l.icon&&(l.icon.icon||l.icon.type)?(e.openBlock(),e.createBlock(a,{key:0,iconObj:l.icon},null,8,["iconObj"])):e.createCommentVNode("",!0)]),_:2},1032,["index"]))],64))),128))]),_:1},16,["default-active","collapse"])]),_:1}),o.$attrs.mode!=="horizontal"&&n.showCollapseBtn?(e.openBlock(),e.createElementBlock("div",{key:0,class:"collapse-btn",onClick:r[0]||(r[0]=l=>y("collapseChange"))},[n.collapse?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[n.closeBtn&&(n.closeBtn.icon||n.closeBtn.type)?(e.openBlock(),e.createBlock(a,{key:0,iconObj:n.closeBtn},null,8,["iconObj"])):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[n.openBtn&&(n.openBtn.icon||n.openBtn.type)?(e.openBlock(),e.createBlock(a,{key:0,iconObj:n.openBtn},null,8,["iconObj"])):e.createCommentVNode("",!0)],64))])):e.createCommentVNode("",!0)])}}}],O={install(n){$.forEach(y=>{n.component("vueEleNavPlus",y)})}};return typeof window<"u"&&window.Vue&&window.Vue.use(O),O});
